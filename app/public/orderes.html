<div class="wrapper">
    <div ng-include="'./public/navbar.html'"></div>
    <div class="container-fluid section">
        <div class="row">
            <div class="col-md-12 col-lg-12 col-12">
                <h4>Orders</h4>
            </div>
            <div class="col-md-4 col-lg-4 col-12">
                <button class="btn btn-sm btn-info" data-toggle="modal" ng-click="InitFunctions()" data-target="#modalOrderDetails">Add
                    New</button>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-12 col-md-12 col-lg-12">
                <div class="table-responsive">
                    <table id="example" class="table table-striped table-bordered" style="width: 100%;">
                        <thead>
                                <th>#</th>
                                <th>Date</th>
                                <th>Customer</th>
                                <th>Total Qty.</th>
                                <th>Total Amount</th>
                                <th>Ordered By</th>
                                <th></th>
                        </thead>
                        <tbody>
                            <tr ng-repeat="_data in ordersList">
                                <td>{{$index +1}}</td>
                                
                                <td class="text-center text-nowrap"><button class="btn btn-warning btn-sm" ng-click="getProductDetails(_data)"  data-toggle="modal" data-target="#modalOrderDetails"><i class="fa fa-pencil"></i> Edit</button>&nbsp;<button class="btn btn-danger btn-sm" ng-click="deleteProductDetails(_data.id)"><i class="fa fa-trash"></i> Delete</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- The Modal add product details-->
<div class="modal fade" id="modalOrderDetails">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Order Details</h4>
                <button type="button" class="close" data-dismiss="modal">Ã—</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <div class="row">
                   <div class="col-6 col-md-6 col-lg-6 col-xl-6">
                    <div class="form-group">
                        <label for="customername">Customer:</label>
                        <input type="text" class="form-control" ng-model="orderDetails[0].customername" id="customername"
                            name="customername" placeholder="Search Customer" >
                    </div>
                   </div>
                   <div class="col-6 col-md-6 col-lg-6 col-xl-6">
                    <div class="form-group">
                        <label for="orderdate">Order Date:</label>
                        <input type="date" class="form-control" ng-model="orderDetails[0].orderdate" id="orderdate"
                            name="orderdate">
                    </div>
                   </div>
                </div>

                <div class="row">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <th>#</th>
                                <th>Product</th>
                                <th>Qty.</th>
                                <th>Unit</th>
                                <th>Rate</th>
                                <th>Total</th>
                            </thead>
                            <tbody>
                                <tr ng-repeat="_data in ProductsList" ng-class="{booked_row:validateEntries(_data)}">
                                    <td>{{$index +1}}</td>
                                    <td>{{_data.name}}</td>
                                    <td><input class="form-control col-4" ng-model="_data.qty" placeholder="Qty."/></td>
                                    <td><select class="form-control" ng-model="_data.prunit" ng-options="obj for obj in productUnit">
                                        <option value="" selected disabled>Select</option>
                                    </select></td>
                                    <td><input class="form-control col-4" ng-model="_data.rate" placeholder="Rate"/></td>
                                    <td>{{(_data.total = _data.rate * _data.qty | number:2) || "00.00"}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
               <!--  <button type="button" class="btn btn-success" data-dismiss="modal"
                    ng-click="SaveProductDetails()">Save</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button> -->
            </div>

        </div>
    </div>
</div>

<!-- <script>
  $(document).ready(function() {
    var table = $('#example').DataTable( {
        fixedHeader: true,
        lengthChange: true,
        buttons: [ 'copy', 'excel', 'pdf' ]
    } );
 
    table.buttons().container()
        .appendTo( '#example_wrapper .col-md-6:eq(0)' );
} );
</script> -->